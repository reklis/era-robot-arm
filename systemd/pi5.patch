--- pigpio.c
+++ pigpio.c
@@ -1254,6 +1254,10 @@
    if (rev == 0xa22082) return 2;  // Pi 3 Model B (Sony)
    if (rev == 0xa32082) return 2;  // Pi 3 Model B (Embest)

+   // Raspberry Pi 5 support
+   if (rev == 0xd03170) return 2;
+   if (rev == 0xd04170) return 2;
+
    return 0;
 }
